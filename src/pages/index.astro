---
import Blocks from "@/components/Blocks.astro";
import usePage from "@/hooks/usePage";
import Layout from "@/layouts/Layout.astro";

const { fetchPageByDocId, fetchAllPages } = await usePage();
const { pages } = await fetchAllPages();
const homeDocId = pages.find((page) => {
  if (page.slug === "home") return page.documentId;
});
const blocks = await fetchPageByDocId(homeDocId?.documentId);
---

<Layout>
  <Blocks blocks={blocks} />
</Layout>
